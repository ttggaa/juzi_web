webpackJsonp([16],{"/j0V":function(e,t){},GNzW:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("Hzmg"),o={data:function(){return{loading:!1,currentRow:{},type:"0",shVisible:!1,dialogVisible:!1,brandVisible:!1,value:"",addForm:{id:"",sellerId:"",brandId:"",cateId:""},queryForm:{page:1,pageSize:10,sellerName:"",sellerStyle:"",brandName:"",cateName:""},totalPages:0,tableData3:[],options:{cate:[],brand:[],sellerStyle:[{value:1,label:"自营"},{value:10,label:"自营海外购"},{value:11,label:"自营线下店"},{value:30,label:"第三方"},{value:31,label:"第三方海外购"}],auditStatus:[{value:1,label:"待审核"},{value:2,label:"审核通过"},{value:3,label:"冻结"}],seller:[]},optionsExtend:{brandClean:!0,areaClean:!0}}},props:{someValue:String},components:{contentHeader:a.a},beforeCreate:function(){},created:function(){},beforeMount:function(){},watch:{"addForm.cateId":function(e){1==this.optionsExtend.brandClean&&(this.addForm.brandId=""),e?this.initBrandOptions(e):this.options.brand=[]}},mounted:function(){this.queryList(),this.initCateOptions()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},methods:{handleCurrentChange:function(e){this.queryForm.page=e,this.queryList()},add:function(){var e=this;this.dialogVisible=!1,this.$axios.HttpPost("/api/sellerCateBrandRel/create",this.addForm).then(function(t){e.$message({type:"success",message:"创建成功"}),e.queryList()})},deleteRow:function(e){var t=this;this.$axios.HttpDel("/api/sellerCateBrandRel/delete/"+e).then(function(e){t.$message({type:"success",message:"删除成功"}),t.queryList()})},update:function(){var e=this;this.dialogVisible=!1,this.$axios.HttpPut("/api/sellerCateBrandRel/update",this.addForm).then(function(t){e.$message({type:"success",message:"修改成功"}),e.queryList()})},reset:function(){},handleClose:function(){},queryList:function(){var e=this;this.$axios.HttpGet("/api/sellerCateBrandRel/list",this.queryForm).then(function(t){console.log(t),e.totalPages=t.data.total,e.tableData3=t.data.list})},querySellerOptions:function(e){var t=this;""!==e&&(this.loading=!0,this.$axios.HttpGet("/api/seller/options?name="+e,{}).then(function(e){t.loading=!1,t.options.seller=e.data}))},initCateOptions:function(){var e=this;this.$axios.HttpGet("/api/product/cate/options",{}).then(function(t){e.options.cate=t.data})},initBrandOptions:function(e){var t=this;this.$axios.HttpGet("/api/product/brand/options/"+e,{}).then(function(e){t.options.brand=e.data,t.optionsExtend.brandClean=!0})},sellerStyleFmt:function(e,t){return this.$OPTIONS(e.sellerStyle,this.options.sellerStyle)},auditStatusFmt:function(e,t){return this.$OPTIONS(e.auditStatus,this.options.auditStatus)},open:function(e){e?(this.type="1",this.dialogVisible=!0,this.addForm.id=e.id,this.addForm.sellerId=e.sellerId,this.optionsExtend.brandClean=!1,this.addForm.cateId=e.cateId,this.addForm.brandId=e.brandId,this.querySellerOptions(e.sellerName)):(this.type="0",this.dialogVisible=!0,this.addForm.sellerId="",this.addForm.cateId="",this.addForm.brandId="")}}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"category"},[l("contentHeader",{attrs:{queryTitle:"查询条件"}}),e._v(" "),l("el-row",{staticStyle:{"margin-top":"1rem"}},[l("el-form",{attrs:{"label-width":"90px"}},[l("el-col",{attrs:{offset:1,span:4}},[l("el-form-item",{attrs:{label:"店铺名称"}},[l("el-input",{attrs:{maxlength:"30",type:"text",clearable:""},model:{value:e.queryForm.sellerName,callback:function(t){e.$set(e.queryForm,"sellerName",t)},expression:"queryForm.sellerName"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-form-item",{attrs:{label:"店铺类型"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.queryForm.sellerStyle,callback:function(t){e.$set(e.queryForm,"sellerStyle",t)},expression:"queryForm.sellerStyle"}},e._l(e.options.sellerStyle,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-form-item",{attrs:{label:"品类"}},[l("el-input",{attrs:{maxlength:"30",type:"text",clearable:""},model:{value:e.queryForm.cateName,callback:function(t){e.$set(e.queryForm,"cateName",t)},expression:"queryForm.cateName"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:4}},[l("el-form-item",{attrs:{label:"品牌"}},[l("el-input",{attrs:{maxlength:"30",type:"text",clearable:""},model:{value:e.queryForm.brandName,callback:function(t){e.$set(e.queryForm,"brandName",t)},expression:"queryForm.brandName"}})],1)],1),e._v(" "),l("el-col",{staticStyle:{"padding-top":"6px"},attrs:{offset:1,span:6}},[l("el-button",{attrs:{size:"mini",type:"info"},on:{click:e.queryList}},[e._v("查询")]),e._v(" "),l("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(t){e.open(null)}}},[e._v("新增")])],1)],1)],1),e._v(" "),l("div",{staticClass:"list"},[l("el-row",[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData3,"tooltip-effect":"dark",size:"mini"}},[e._e(),e._v(" "),l("el-table-column",{attrs:{prop:"sellerName",label:"店铺名称","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"sellerStyle",label:"店铺类型",formatter:e.sellerStyleFmt,"show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"auditStatus",label:"店铺状态",formatter:e.auditStatusFmt,"show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"cateName",label:"\t品类","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"brandName",label:"品牌","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"createUser",label:"创建人","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{width:"260",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(l){e.open(t.row)}}},[e._v("修改")]),e._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:function(l){e.deleteRow(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),l("el-row",{staticClass:"page-choose",attrs:{type:"flex",justify:"center",align:"middle"}},[l("el-pagination",{attrs:{"page-size":e.queryForm.pageSize,"current-page":e.queryForm.pageNum,layout:"total, prev, pager, next, jumper",total:e.totalPages},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:"选择品类",visible:e.brandVisible},on:{"update:visible":function(t){e.brandVisible=t}}},[l("el-table",{attrs:{"highlight-current-row":""}},[l("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),e._v(" "),l("el-table-column",{attrs:{prop:"createBy",label:"品牌名称","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"createBy",label:"品牌英文名","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"createBy",label:"关联品类","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"createBy",label:"审核状态","show-overflow-tooltip":""}})],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.brandVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.brandVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"0"==e.type?"新增":"修改",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{attrs:{"label-width":"90px"}},[l("el-form-item",{attrs:{label:"店铺名称"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","remote-method":e.querySellerOptions,loading:e.loading,clearable:"",placeholder:"请选择店铺类型"},model:{value:e.addForm.sellerId,callback:function(t){e.$set(e.addForm,"sellerId",t)},expression:"addForm.sellerId"}},e._l(e.options.seller,function(e){return l("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"品类管理"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择品类"},model:{value:e.addForm.cateId,callback:function(t){e.$set(e.addForm,"cateId",t)},expression:"addForm.cateId"}},e._l(e.options.cate,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"品牌管理"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择品牌"},model:{value:e.addForm.brandId,callback:function(t){e.$set(e.addForm,"brandId",t)},expression:"addForm.brandId"}},e._l(e.options.brand,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){"0"==e.type?e.add():e.update()}}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var i=l("vSla")(o,r,!1,function(e){l("/j0V")},"data-v-4c66e12f",null);t.default=i.exports}});