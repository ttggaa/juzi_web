webpackJsonp([29],{"3+Y3":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l("aozt");var o=l("Hzmg"),a={data:function(){return{type:"0",value:"",dialogVisible:!1,options:{seller:[]},totalPages:0,addForm:{id:"",sellerId:"",settlePoint:""},queryForm:{page:1,pageSize:10,sellerName:""},tableData3:[]}},props:{someValue:String},components:{contentHeader:o.a},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){this.queryList()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},methods:{handleClose:function(){this.dialogVisible=!1},open:function(e){e?(this.type="1",this.dialogVisible=!0,this.addForm.id=e.id,this.addForm.sellerId=e.sellerId,this.querySellerOptions2(this.addForm.sellerId),this.addForm.settlePoint=e.settlePoint):(this.type="0",this.dialogVisible=!0,this.addForm.id="",this.addForm.sellerId="",this.addForm.settlePoint="")},add:function(){var e=this;this.$axios.HttpPost("/api/SellerSettlePoint/create",this.addForm).then(function(t){e.$message({type:"success",message:"新增成功"}),e.queryList()})},update:function(){var e=this;this.$axios.HttpPut("/api/SellerSettlePoint/update",this.addForm).then(function(t){e.$message({type:"success",message:"修改成功"}),e.queryList()})},reset:function(){},handleCurrentChange:function(e){this.queryForm.page=e,this.queryList()},deleteById:function(e){var t=this;this.$axios.HttpDel("/api/SellerSettlePoint/delete/"+e).then(function(e){t.$message({type:"success",message:"删除成功"}),t.queryList()})},queryList:function(){var e=this;this.$axios.HttpGet("/api/SellerSettlePoint/list",this.queryForm).then(function(t){e.totalPages=t.data.total,e.tableData3=t.data.list})},querySellerOptions:function(e){var t=this;""!==e&&this.$axios.HttpGet("/api/seller/options?name="+e,{}).then(function(e){t.options.seller=e.data})},querySellerOptions2:function(e){var t=this;null!==e&&this.$axios.HttpGet("/api/seller/options?id="+e,{}).then(function(e){t.options.seller=e.data})}}},i={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("contentHeader",{attrs:{queryTitle:"查询条件"}}),e._v(" "),l("el-row",{staticStyle:{"margin-top":"1rem"}},[l("el-form",{attrs:{"label-width":"110px",model:e.queryForm}},[l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"分类名称"}},[l("el-input",{attrs:{maxlength:"20",type:"text",clearable:""},model:{value:e.queryForm.sellerName,callback:function(t){e.$set(e.queryForm,"sellerName",t)},expression:"queryForm.sellerName"}})],1)],1),e._v(" "),l("el-col",{staticStyle:{"padding-top":"5px"},attrs:{offset:1,span:6}},[l("el-button",{attrs:{size:"mini",type:"info"},on:{click:e.queryList}},[e._v("查询")]),e._v(" "),l("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(t){e.open(null)}}},[e._v("新增")])],1)],1)],1),e._v(" "),l("div",{staticClass:"list"},[l("el-row",[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData3,"tooltip-effect":"dark"}},[l("el-table-column",{attrs:{type:"index",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{prop:"sellerName",label:"商户名称","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"settlePoint",label:"扣点比例","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(l){e.open(t.row)}}},[e._v("扣点设置")])]}}])})],1)],1),e._v(" "),l("el-row",{staticClass:"page-choose",attrs:{type:"flex",justify:"center",align:"middle"}},[l("el-pagination",{attrs:{"page-size":e.queryForm.pageSize,"current-page":this.queryForm.pageNum,layout:"total, prev, pager, next, jumper",total:e.totalPages},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:"扣点比例",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-row",[l("el-form",{attrs:{"label-width":"90px"}},[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"商户名称"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","remote-method":e.querySellerOptions,clearable:"",placeholder:"请选择店铺类型"},model:{value:e.addForm.sellerId,callback:function(t){e.$set(e.addForm,"sellerId",t)},expression:"addForm.sellerId"}},e._l(e.options.seller,function(e){return l("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"扣点比例"}},[l("el-input",{attrs:{placeholder:"请输入扣点比例"},model:{value:e.addForm.settlePoint,callback:function(t){e.$set(e.addForm,"settlePoint",t)},expression:"addForm.settlePoint"}})],1)],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(){e.dialogVisible=!1,"0"==e.type?e.add():e.update()}}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var s=l("vSla")(a,i,!1,function(e){l("TJo2")},"data-v-04e74b65",null);t.default=s.exports},TJo2:function(e,t){}});