webpackJsonp([28],{l4u7:function(t,e){},myJV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={data:function(){return{currentRow:{},type:"0",dialogVisible:!1,dialogVisibleDel:!1,tmpDelId:"",addForm:{id:"",flag:"",description:"",isOpen:"",isGlobal:"",range:""},queryForm:{page:1,pageSize:10,flag:""},totalPages:0,tableData3:[],options:{isOpen:[{value:1,label:"开启"},{value:0,label:"未开启"}],isGlobal:[{value:1,label:"全局"},{value:0,label:"非全局"}]}}},props:{},components:{contentHeader:a("Hzmg").a},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){this.queryList()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},methods:{handleCurrentChange:function(t){this.queryForm.page=t,this.queryList()},open:function(t){t?(this.type="1",this.dialogVisible=!0,this.addForm.id=t.id,this.addForm.flag=t.flag,this.addForm.description=t.description,this.addForm.isOpen=t.isOpen+"",this.addForm.isGlobal=t.isGlobal+"",this.addForm.range=t.range):(this.type="0",this.dialogVisible=!0,this.addForm.id="",this.addForm.flag="",this.addForm.description="",this.addForm.isOpen="",this.addForm.isGlobal="",this.addForm.range="")},add:function(){var t=this;this.dialogVisible=!1,this.$axios.HttpPost("/api/gps/check/rule/create",this.addForm).then(function(e){t.$message({type:"success",message:"创建成功"}),t.queryList()})},deleteRow:function(){},update:function(){var t=this;this.dialogVisible=!1,this.$axios.HttpPut("/api/gps/check/rule/update",this.addForm).then(function(e){t.$message({type:"success",message:"修改成功"}),t.queryList()})},reset:function(){},handleClose:function(){},openDel:function(t){this.tmpDelId=t,this.dialogVisibleDel=!0},deleteById:function(){var t=this;this.$axios.HttpDel("/api/gps/check/rule/delete/"+this.tmpDelId).then(function(e){t.$message({type:"success",message:"删除成功"}),t.tmpDelId="",t.dialogVisibleDel=!1,t.queryList()})},queryList:function(){var t=this;this.$axios.HttpGet("/api/gps/check/rule/list",this.queryForm).then(function(e){t.totalPages=e.data.total,t.tableData3=e.data.list})},isOpenFmt:function(t,e){return this.$OPTIONS(t.isOpen,this.options.isOpen)},isGlobalFmt:function(t,e){return this.$OPTIONS(t.isGlobal,this.options.isGlobal)}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("contentHeader",{attrs:{queryTitle:"查询条件"}}),t._v(" "),a("el-form",{attrs:{"label-width":"90px"}},[a("el-row",{staticStyle:{"margin-top":"1rem"}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"环节标识"}},[a("el-input",{attrs:{maxlength:"30",type:"text",clearable:""},model:{value:t.queryForm.flag,callback:function(e){t.$set(t.queryForm,"flag",e)},expression:"queryForm.flag"}})],1)],1),t._v(" "),a("el-col",{attrs:{offset:1,span:3}},[a("el-button",{attrs:{size:"mini",type:"info"},on:{click:t.queryList}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(e){t.open(null)}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("div",{staticClass:"list"},[a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData3,"tooltip-effect":"dark",size:"mini"}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"flag",label:"校验环节标识","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"校验环节说明","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"isOpen",label:"是否开启",align:"center",formatter:t.isOpenFmt,"show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"isGlobal",label:"是否全局校验",align:"center",formatter:t.isGlobalFmt,"show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"range",label:"验证公里范围",align:"center","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{width:"260",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.open(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.openDel(e.row.id)}}},[t._v("删除")]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisibleDel,width:"30%","append-to-body":""},on:{"update:visible":function(e){t.dialogVisibleDel=e},close:function(e){t.dialogVisibleDel=!1}}},[a("span",[t._v("确定删除？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleDel=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteById}},[t._v("确 定")])],1)])]}}])})],1)],1),t._v(" "),a("el-row",{staticClass:"page-choose",attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-pagination",{attrs:{"page-size":t.queryForm.pageSize,"current-page":t.queryForm.pageNum,layout:"total, prev, pager, next, jumper",total:t.totalPages},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"0"==t.type?"新增GPS校验规则":"修改GPS校验规则",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"校验环节标识","margin-top":"20px"}},[a("el-input",{attrs:{placeholder:"请输入校验环节标识"},model:{value:t.addForm.flag,callback:function(e){t.$set(t.addForm,"flag",e)},expression:"addForm.flag"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"校验环节描述","margin-top":"20px"}},[a("el-input",{attrs:{placeholder:"请输入校验环节描述"},model:{value:t.addForm.description,callback:function(e){t.$set(t.addForm,"description",e)},expression:"addForm.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否开启","margin-top":"20px"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.addForm.isOpen,callback:function(e){t.$set(t.addForm,"isOpen",e)},expression:"addForm.isOpen"}},[a("el-radio",{attrs:{label:"1",border:""}},[t._v("开启")]),t._v(" "),a("el-radio",{attrs:{label:"0",border:""}},[t._v("未开启")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否全局","margin-top":"20px"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.addForm.isGlobal,callback:function(e){t.$set(t.addForm,"isGlobal",e)},expression:"addForm.isGlobal"}},[a("el-radio",{attrs:{label:"1",border:""}},[t._v("全局")]),t._v(" "),a("el-radio",{attrs:{label:"0",border:""}},[t._v("非全局")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"验证公里范围","margin-top":"20px"}},[a("el-input",{attrs:{placeholder:"请输入验证公里范围"},model:{value:t.addForm.range,callback:function(e){t.$set(t.addForm,"range",e)},expression:"addForm.range"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(){"0"==t.type?t.add():t.update()}}},[t._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("vSla")(l,i,!1,function(t){a("l4u7")},"data-v-0bf522a0",null);e.default=o.exports}});