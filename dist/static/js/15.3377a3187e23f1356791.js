webpackJsonp([15],{I88V:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("Hzmg"),o={data:function(){return{currentRow:{},type:"0",dialogVisible:!1,dialogVisibleDel:!1,tmpDelId:"",options:{auditStatus:[{value:1,label:"待审核"},{value:2,label:"审核通过"},{value:3,label:"冻结"},{value:4,label:"创建"},{value:5,label:"审核失败"},{value:501,label:"销售，企业，结算全失败"}],term:[{value:1,label:"1期"},{value:3,label:"3期"},{value:6,label:"6期"},{value:12,label:"12期"},{value:24,label:"24期"},{value:36,label:"36期"}],seller:[]},addForm:{sellerId:"",term:"",monthRate:"",afterDiscountRate:"",discount:""},queryForm:{page:1,pageSize:10,sellerName:""},totalPages:0,tableData3:[]}},props:{someValue:String},components:{contentHeader:a.a},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){this.queryList()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},methods:{handleCurrentChange:function(e){this.queryForm.page=e,this.queryList()},open:function(){this.type="0",this.dialogVisible=!0,this.addForm.sellerId="",this.addForm.term="",this.addForm.monthRate="",this.addForm.afterDiscountRate="",this.addForm.discount=""},add:function(){var e=this;this.dialogVisible=!1,this.$axios.HttpPost("/api/seller/term/create",this.addForm).then(function(t){e.$message({type:"success",message:"创建成功"}),e.queryList()})},openDel:function(e){this.tmpDelId=e,this.dialogVisibleDel=!0},deleteById:function(){var e=this;this.$axios.HttpDel("/api/seller/term/delete/"+this.tmpDelId).then(function(t){e.$message({type:"success",message:"删除成功"}),e.tmpDelId="",e.dialogVisibleDel=!1,e.queryList()})},reset:function(){},handleClose:function(){},queryList:function(){var e=this;this.$axios.HttpGet("/api/seller/term/list",this.queryForm).then(function(t){e.totalPages=t.data.total,e.tableData3=t.data.list})},querySellerOptions:function(e){var t=this;""!==e&&this.$axios.HttpGet("/api/seller/options?name="+e,{}).then(function(e){t.loading=!1,t.options.seller=e.data})}}},i={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"category"},[l("contentHeader",{attrs:{queryTitle:"查询条件"}}),e._v(" "),l("el-row",{staticStyle:{"margin-top":"1rem"}},[l("el-form",{attrs:{"label-width":"90px"}},[l("el-col",{attrs:{offset:1,span:6}},[l("el-form-item",{attrs:{label:"店铺名称"}},[l("el-input",{attrs:{maxlength:"30",type:"text",clearable:""},model:{value:e.queryForm.sellerName,callback:function(t){e.$set(e.queryForm,"sellerName",t)},expression:"queryForm.sellerName"}})],1)],1),e._v(" "),l("el-col",{attrs:{offset:1,span:3}},[l("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(t){e.queryList()}}},[e._v("查询")]),e._v(" "),l("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(t){e.open()}}},[e._v("新增")])],1)],1)],1),e._v(" "),l("div",{staticClass:"list"},[l("el-row",[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData3,"tooltip-effect":"dark",size:"mini"}},[e._e(),e._v(" "),l("el-table-column",{attrs:{prop:"sellerName",label:"店铺名称","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"term",label:"期数","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"monthRate",label:"月利率","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"discount",label:"折扣","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{prop:"afterDiscountRate",label:"折后费率","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{width:"260",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(l){e.openDel(t.row.id)}}},[e._v("删除")]),e._v(" "),l("el-dialog",{attrs:{title:"提示",visible:e.dialogVisibleDel,width:"30%","append-to-body":""},on:{"update:visible":function(t){e.dialogVisibleDel=t},close:function(t){e.dialogVisibleDel=!1}}},[l("span",[e._v("确定删除？")]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisibleDel=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.deleteById}},[e._v("确 定")])],1)])]}}])})],1)],1),e._v(" "),l("el-row",{staticClass:"page-choose",attrs:{type:"flex",justify:"center",align:"middle"}},[l("el-pagination",{attrs:{"page-size":e.queryForm.pageSize,"current-page":e.queryForm.pageNum,layout:"total, prev, pager, next, jumper",total:e.totalPages},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{title:"分期管理",visible:e.dialogVisible,radioState:"this.currentRow.term"},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{attrs:{"label-width":"90px"}},[l("el-form-item",{attrs:{label:"店铺名称"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","remote-method":e.querySellerOptions,clearable:"",placeholder:"请选择店铺类型"},model:{value:e.addForm.sellerId,callback:function(t){e.$set(e.addForm,"sellerId",t)},expression:"addForm.sellerId"}},e._l(e.options.seller,function(e){return l("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"分期选择"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择分期数"},model:{value:e.addForm.term,callback:function(t){e.$set(e.addForm,"term",t)},expression:"addForm.term"}},e._l(e.options.term,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"月利率"}},[l("el-input",{attrs:{type:"text"},model:{value:e.addForm.monthRate,callback:function(t){e.$set(e.addForm,"monthRate",t)},expression:"addForm.monthRate"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"折扣百分比"}},[l("el-input",{attrs:{type:"text"},model:{value:e.addForm.discount,callback:function(t){e.$set(e.addForm,"discount",t)},expression:"addForm.discount"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"折后费率"}},[l("el-input",{attrs:{type:"text"},model:{value:e.addForm.afterDiscountRate,callback:function(t){e.$set(e.addForm,"afterDiscountRate",t)},expression:"addForm.afterDiscountRate"}})],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var r=l("vSla")(o,i,!1,function(e){l("hYaM")},"data-v-525688f5",null);t.default=r.exports},hYaM:function(e,t){}});